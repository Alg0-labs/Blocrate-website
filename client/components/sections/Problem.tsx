import { motion } from "framer-motion";
import { tileVariants, fadeInUpVariants } from "@/lib/animations";
import "@/styles/Problem.css";

export default function Problem() {
  return (
    <section className="relative px-4 sm:px-6 lg:px-8 py-14">
      <div className="max-w-[1440px] mx-auto">
        <motion.div
          className="text-center mb-16"
          initial="hidden"
          whileInView="visible"
          viewport={{ once: true, amount: 0.3 }}
          variants={fadeInUpVariants}
          transition={{ duration: 0.7, ease: [0.25, 0.1, 0.25, 1] }}
        >
          <h2 className="gradient-text text-5xl font-normal leading-[120%] mb-6">
            Undercollateralized lending still doesn't work.
          </h2>
          <p className="text-brand-gray text-base font-medium leading-[150%] max-w-[715px] mx-auto">
            Anonymous borrowers disappear. On-chain reputation is easy to game. Real cashflow businesses can't access credit without overcollateralizing.
          </p>
        </motion.div>

        <div className="problem-cards-grid grid grid-cols-1 px-0 md:px-4 lg:px-8 justify-items-center">
          {/* Problem Card 1 */}
          <motion.div
            className="problem-card-hover problem-card-1 group relative rounded-[10px] bg-gradient-to-br from-[rgba(191,234,68,0.04)] to-[rgba(191,234,68,0.14)] shadow-[3px_3px_4px_0_rgba(191,234,68,0.17)_inset] glassmorphic p-8"
            initial="hidden"
            whileInView="visible"
            viewport={{ once: true, amount: 0.3 }}
            variants={tileVariants("left")}
            transition={{ duration: 0.8, ease: [0.25, 0.1, 0.25, 1], type: "spring", stiffness: 100, damping: 15 }}
          >
            <svg className="w-10 h-10 mb-8" viewBox="0 0 40 40" fill="none">
              <defs>
                <linearGradient id="grad1" x1="4.1991" y1="3.06491" x2="44.8335" y2="50.1724">
                  <stop stopColor="#BFEA44"/>
                  <stop offset="1" stopColor="#A4B0F5"/>
                </linearGradient>
              </defs>
              <path d="M38.3108 6.22276C38.1863 5.607 37.8449 5.05906 37.351 4.68253C36.8571 4.30597 36.2451 4.1269 35.6306 4.17914C33.4775 4.29791 31.3198 4.29791 29.1666 4.17914C27.9811 4.13915 26.7996 4.0164 25.6306 3.81175C23.3556 3.01705 21.1965 1.91253 19.2116 0.528161C18.745 0.199329 18.1911 0.0231934 17.6239 0.0231934C17.0566 0.0231934 16.5028 0.199329 16.036 0.528161C13.8758 2.09896 11.5005 3.33689 8.98651 4.2021C6.77039 4.9954 4.51505 5.66988 2.22976 6.22276C1.57179 6.3664 0.989141 6.75311 0.594111 7.30847C0.19908 7.86384 0.0195663 8.54856 0.0900901 9.2308C0.63936 15.9902 2.00866 22.6542 4.16666 29.0701C7.07206 36.418 14.572 39.1964 16.9594 39.8853C17.2011 39.9569 17.4511 39.9955 17.7028 40C17.9471 39.9972 18.1899 39.9586 18.4235 39.8853C20.5101 39.2714 22.498 38.3509 24.3244 37.1528C26.3 37.7337 28.3494 38.0122 30.4054 37.9794C30.8611 37.9769 31.3066 37.8414 31.6891 37.589C33.5811 36.3031 39.3919 31.8485 39.9775 24.6614C40.1656 18.4687 39.6059 12.276 38.3108 6.22276ZM22.545 34.2365C21.0569 35.2226 19.4426 35.9954 17.7478 36.5327C16.0585 36.0276 9.68471 33.7314 7.36489 27.8071C5.35408 21.8685 4.0755 15.6979 3.55858 9.43746C5.63065 8.9323 7.86038 8.26639 10.3153 7.43975C12.9815 6.50434 15.5118 5.20679 17.8379 3.58212C19.9345 5.04707 22.2049 6.23525 24.5946 7.11829C26.8469 7.92196 29.6396 8.88636 31.8919 9.4145C31.3539 15.6718 30.0758 21.8398 28.0856 27.7843C26.97 30.4881 25.0264 32.7516 22.545 34.2365ZM26.3514 17.3594L17.6126 25.442C17.0773 25.9429 16.3691 26.2071 15.6431 26.177C14.9171 26.1469 14.2324 25.8249 13.7388 25.2814L8.8964 20.023C8.67894 19.6814 8.58723 19.2724 8.63755 18.8684C8.68789 18.4644 8.87701 18.0916 9.17134 17.8164C9.46566 17.5411 9.84613 17.381 10.2452 17.3646C10.6443 17.3482 11.0363 17.4765 11.3514 17.7267L15.8559 22.5489L24.2793 14.8795C24.6133 14.5774 25.0499 14.4202 25.4959 14.4417C25.9419 14.4633 26.362 14.6615 26.6666 14.9943C26.924 15.3536 27.0349 15.8006 26.9761 16.2415C26.9173 16.6825 26.6934 17.083 26.3514 17.3594Z" fill="url(#grad1)"/>
            </svg>
            <h3 className="gradient-text text-xl font-semibold leading-[120%] mb-4">
              <span className="block">Anonymous</span>
              <span className="block">Borrowers</span>
            </h3>
            <p className="card-subtext text-brand-gray text-base font-medium leading-[150%] transition-colors duration-300">
              Borrowers can disappear without accountability.
            </p>
          </motion.div>

          {/* Problem Card 2 */}
          <motion.div
            className="problem-card-hover problem-card-2 group relative rounded-[10px] bg-gradient-to-br from-[rgba(191,234,68,0.04)] to-[rgba(191,234,68,0.14)] shadow-[3px_3px_4px_0_rgba(191,234,68,0.17)_inset] glassmorphic p-8"
            initial="hidden"
            whileInView="visible"
            viewport={{ once: true, amount: 0.3 }}
            variants={tileVariants("right")}
            transition={{ duration: 0.6, ease: "easeOut", delay: 0.1 }}
          >
            <svg className="w-10 h-10 mb-8" viewBox="0 0 46 55" fill="none">
              <defs>
                <linearGradient id="grad2" x1="4.77959" y1="8.53867" x2="51.0362" y2="62.6102">
                  <stop stopColor="#BFEA44"/>
                  <stop offset="1" stopColor="#A4B0F5"/>
                </linearGradient>
              </defs>
              <path d="M45.4599 8.50553L43.08 5.71412C42.9139 5.51093 42.7151 5.34937 42.4952 5.23902C42.2753 5.12866 42.0388 5.07178 41.8 5.07178C41.5611 5.07178 41.3246 5.12866 41.1047 5.23902C40.8848 5.34937 40.686 5.51093 40.5199 5.71412L33.2999 14.2303C32.7155 12.4526 31.6902 10.9254 30.3591 9.84895C29.0278 8.77249 27.4526 8.19701 25.8399 8.19799H8.03998C5.91824 8.19799 3.8834 9.1949 2.38311 10.9695C0.882827 12.744 0.039978 15.1508 0.039978 17.6604V41.1744C0.039978 43.6839 0.882827 46.0907 2.38311 47.8653C3.8834 49.6399 5.91824 50.6367 8.03998 50.6367H25.8399C27.9616 50.6367 29.9966 49.6399 31.4969 47.8653C32.9971 46.0907 33.84 43.6839 33.84 41.1744V25.183L45.4199 11.4862C45.7461 11.0886 45.9317 10.559 45.9392 10.0052C45.9466 9.4514 45.7751 8.91509 45.4599 8.50553ZM30.8799 41.2453C30.8799 42.8263 30.3489 44.3427 29.4037 45.4607C28.4586 46.5787 27.1766 47.2067 25.8399 47.2067H8.03998C7.37811 47.2067 6.72271 47.0524 6.11124 46.7529C5.49976 46.4533 4.94414 46.0143 4.47613 45.4607C4.00812 44.9071 3.63689 44.2498 3.3836 43.5266C3.13033 42.8033 2.99997 42.0281 2.99997 41.2453V17.7313C2.99733 16.9465 3.12577 16.1688 3.37786 15.4428C3.62997 14.7168 4.00079 14.0568 4.46906 13.5008C4.93732 12.9447 5.49381 12.5035 6.1066 12.2024C6.71939 11.9014 7.37643 11.7464 8.03998 11.7464H25.8399C27.0937 11.752 28.3008 12.3101 29.2254 13.3118C30.1498 14.3135 30.7255 15.6868 30.8399 17.1637L24.16 25.0647C23.9882 25.261 23.8515 25.4963 23.7583 25.7564C23.665 26.0164 23.6169 26.2961 23.6169 26.5786C23.6169 26.8613 23.665 27.1408 23.7583 27.401C23.8515 27.661 23.9882 27.8964 24.16 28.0926C23.4479 28.8089 22.5696 29.2542 21.64 29.3701C20.9727 29.5253 20.2825 29.4683 19.64 29.2045L18.7599 35.4969H18.4399H7.45996C7.06213 35.4969 6.68059 35.6839 6.39929 36.0167C6.11798 36.3493 5.95996 36.8007 5.95996 37.2712C5.95996 37.7417 6.11798 38.1929 6.39929 38.5257C6.68059 38.8585 7.06213 39.0454 7.45996 39.0454H18.4399C18.7956 39.0386 19.1376 38.8828 19.4051 38.6055C19.6724 38.3281 19.8478 37.9476 19.9 37.5314L25.6599 36.3958C25.437 35.6358 25.3887 34.8195 25.5199 34.0303C25.6181 32.9352 25.9868 31.8986 26.5799 31.0496C26.9241 31.4499 27.3874 31.6741 27.8699 31.6741C28.3525 31.6741 28.8158 31.4499 29.1599 31.0496L30.94 28.9443L30.8799 41.2453ZM5.89996 25.0411C5.89996 24.5706 6.058 24.1192 6.3393 23.7866C6.62061 23.4538 7.00213 23.2668 7.39996 23.2668H18.38C18.7777 23.2668 19.1593 23.4538 19.4406 23.7866C19.7219 24.1192 19.88 24.5706 19.88 25.0411C19.88 25.5116 19.7219 25.9628 19.4406 26.2955C19.1593 26.6283 18.7777 26.8153 18.38 26.8153H7.39996C7.00213 26.8153 6.62061 26.6283 6.3393 26.2955C6.058 25.9628 5.89996 25.5116 5.89996 25.0411Z" fill="url(#grad2)"/>
            </svg>
            <h3 className="gradient-text text-xl font-semibold leading-[120%] mb-4">
              <span className="block">Gameable</span>
              <span className="block">Reputation</span>
            </h3>
            <p className="card-subtext text-brand-gray text-base font-medium leading-[150%] transition-colors duration-300">
              On-chain history is easy to fake or reset.
            </p>
          </motion.div>

          {/* Problem Card 3 */}
          <motion.div
            className="problem-card-hover problem-card-3 group relative rounded-[10px] bg-gradient-to-br from-[rgba(191,234,68,0.04)] to-[rgba(191,234,68,0.14)] shadow-[3px_3px_4px_0_rgba(191,234,68,0.17)_inset] glassmorphic p-8"
            initial="hidden"
            whileInView="visible"
            viewport={{ once: true, amount: 0.3 }}
            variants={tileVariants("left")}
            transition={{ duration: 0.6, ease: "easeOut", delay: 0.2 }}
          >
            <svg className="w-10 h-10 mb-8" viewBox="0 0 40 48" fill="none">
              <defs>
                <linearGradient id="grad3" x1="4.13044" y1="7.32538" x2="42.7357" y2="54.1479">
                  <stop stopColor="#BFEA44"/>
                  <stop offset="1" stopColor="#A4B0F5"/>
                </linearGradient>
              </defs>
              <path d="M5.9028 37.5318H34.0971C35.4846 37.5263 36.8136 36.8803 37.793 35.7354C38.7724 34.5904 39.3224 33.0399 39.3224 31.4234V10.5011C39.3224 9.70164 39.1871 8.91003 38.9246 8.17145C38.662 7.43287 38.2771 6.76177 37.792 6.19647C37.3068 5.63119 36.7307 5.18277 36.0967 4.87684C35.4629 4.57091 34.7834 4.41345 34.0971 4.41345H5.9028C4.51701 4.41345 3.188 5.05482 2.2081 6.19647C1.22819 7.33813 0.677672 8.88654 0.677672 10.5011V31.4234C0.677665 33.0399 1.22761 34.5904 2.20701 35.7354C3.1864 36.8803 4.51537 37.5263 5.9028 37.5318ZM3.35266 10.5219C3.35266 9.73389 3.62136 8.97818 4.09961 8.42099C4.57786 7.8638 5.22646 7.55077 5.9028 7.55077H34.0971C34.7735 7.55077 35.4221 7.8638 35.9004 8.42099C36.3786 8.97818 36.6474 9.73389 36.6474 10.5219V31.4442C36.6474 32.234 36.3793 32.992 35.9015 33.5525C35.4238 34.1129 34.7751 34.4306 34.0971 34.4361H5.9028C5.22482 34.4306 4.57626 34.1129 4.09853 33.5525C3.62079 32.992 3.35265 32.234 3.35266 31.4442V10.5219ZM11.128 27.7043V19.913C11.1327 19.4042 11.3095 18.918 11.62 18.5602C11.9305 18.2022 12.3497 18.0016 12.7865 18.0016H14.1596C14.5947 18.0016 15.012 18.203 15.3198 18.5613C15.6274 18.9199 15.8002 19.4061 15.8002 19.913V27.7043C15.8004 28.2132 15.628 28.7016 15.3209 29.0634C15.0136 29.4251 14.5964 29.6311 14.1596 29.6366H12.7865C12.5671 29.6366 12.3501 29.5859 12.1477 29.4875C11.9453 29.3891 11.7616 29.2449 11.6074 29.0634C11.4532 28.8817 11.3314 28.6662 11.2491 28.4295C11.1668 28.1926 11.1256 27.9391 11.128 27.6836V27.7043ZM17.6727 27.7043V15.2383C17.6727 14.7293 17.845 14.241 18.1523 13.8792C18.4594 13.5174 18.8767 13.3114 19.3135 13.306H20.6866C21.1234 13.3114 21.5406 13.5174 21.8478 13.8792C22.155 14.241 22.3272 14.7293 22.3272 15.2383V27.7043C22.3272 28.2132 22.155 28.7016 21.8478 29.0634C21.5406 29.4251 21.1234 29.6311 20.6866 29.6366H19.3135C19.0956 29.6339 18.8804 29.5812 18.6801 29.4816C18.4798 29.3819 18.2982 29.2374 18.1459 29.056C17.9936 28.8746 17.8734 28.6601 17.7921 28.4246C17.711 28.1891 17.6704 27.9374 17.6727 27.6836V27.7043ZM24.1998 27.7043V17.7315C24.1998 17.2226 24.372 16.7342 24.6793 16.3724C24.9864 16.0106 25.4036 15.8047 25.8404 15.7992H27.2136C27.6534 15.7992 28.0753 16.0027 28.3864 16.3652C28.6974 16.7275 28.872 17.219 28.872 17.7315V27.7043C28.872 27.9581 28.8293 28.2094 28.7459 28.4437C28.6625 28.6782 28.5404 28.8913 28.3864 29.0706C28.2324 29.2501 28.0495 29.3923 27.8483 29.4894C27.647 29.5867 27.4314 29.6366 27.2136 29.6366H25.8761C25.6552 29.6394 25.4363 29.5908 25.2318 29.4936C25.0273 29.3965 24.8415 29.2527 24.6854 29.0707C24.5293 28.8889 24.4059 28.6725 24.3225 28.4342C24.2391 28.196 24.1974 27.9409 24.1998 27.6836V27.7043ZM40 41.1262C39.9954 41.5378 39.853 41.9311 39.6033 42.2222C39.3534 42.5132 39.0159 42.6792 38.6625 42.6845H1.3375C0.982769 42.6845 0.642564 42.5203 0.391735 42.2281C0.140906 41.9358 0 41.5394 0 41.1262C0 40.7129 0.140906 40.3166 0.391735 40.0243C0.642564 39.7321 0.982769 39.5679 1.3375 39.5679H38.6625C39.0189 39.5734 39.3591 39.7423 39.6094 40.0377C39.8597 40.3332 40.0001 40.7318 40 41.1469V41.1262Z" fill="url(#grad3)"/>
            </svg>
            <h3 className="gradient-text text-xl font-semibold leading-[120%] mb-4">
              <span className="block">Overcollateralization</span>
              <span className="block opacity-0">Placeholder</span>
            </h3>
            <p className="card-subtext text-brand-gray text-base font-medium leading-[150%] transition-colors duration-300">
              Real businesses must lock excess capital.
            </p>
          </motion.div>
        </div>
      </div>
    </section>
  );
}

